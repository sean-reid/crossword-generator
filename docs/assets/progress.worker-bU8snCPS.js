let e=null,n=0,t=1e3;self.onmessage=l=>{const{type:o,payload:s}=l.data;switch(o){case"START":n=Date.now(),t=s.estimatedTime||1e3,e&&clearInterval(e),e=setInterval(()=>{const a=Date.now()-n,r=Math.min(95,a/t*100),i=a<t*.3?"Encoding constraints...":a<t*.7?"Solving SAT problem...":"Extracting solution...";self.postMessage({type:"UPDATE",percent:Math.floor(r),stage:i,elapsed:a,estimated:t})},100);break;case"UPDATE_ESTIMATE":t=s.estimatedTime;break;case"STOP":e&&(clearInterval(e),e=null);break}};
